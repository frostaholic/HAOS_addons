name: "Immich Album Export"
description: "Exports Immich albums to friendly, per-album folders instead of the internal upload tree."
version: "1.1.2"
slug: "immich_backup"
init: false
arch:
  - aarch64
  - amd64
startup: services
boot: auto
homeassistant_api: true
host_network: false
ingress: true
ingress_port: 5000

map:
  - media:rw
  - /media/immich_assets:/media/immich_assets:ro

options:
  export_dir: "/media/immich"
  assets_root: "/media/immich_assets"
  db_host: ""
  db_name: "immich"
  db_user: "postgres"
  db_pass: ""
  immich_user_id: ""
  schedule: "0 2 * * *"
  ha_push_interval_sec: "60"
  log_level: "info"

schema:
  export_dir: str?
  assets_root: str? 
  db_host: str?
  db_name: str?
  db_user: str?
  db_pass: password
  immich_user_id: str?
  min_found_abs: int?
  min_found_fraction: float? 
  schedule: str?
  ha_push_interval_sec: int?
  log_level: match(debug|info|warning|error)?

